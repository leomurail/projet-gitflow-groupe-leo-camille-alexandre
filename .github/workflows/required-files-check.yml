name: ğŸ” Check required files

on:
  pull_request:
  push:
    branches: [main, develop]

jobs:
  check-required-files:
    runs-on: ubuntu-latest
    steps:
      - uses: actions/checkout@v4

      - name: Verify presence of essential files
        shell: bash
        run: |
          echo "ğŸ” VÃ©rification des fichiers essentiels..."
          missing=0

          for f in README.md CHANGELOG.md LICENSE CONTRIBUTING.md; do
            if [[ ! -f "$f" ]]; then
              echo "::error file=$f,line=1,col=1::âŒ Le fichier requis '$f' est manquant Ã  la racine du dÃ©pÃ´t."
              missing=1
            else
              echo "âœ… $f prÃ©sent"
            fi
          done

          if [[ $missing -eq 1 ]]; then
            echo "::error::ğŸš« VÃ©rification Ã©chouÃ©e â€” un ou plusieurs fichiers obligatoires sont absents."
            exit 1
          else
            echo "ğŸ‰ Tous les fichiers requis sont prÃ©sents."
          fi
